(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3-AbD",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__ggJdN"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3NEeN",Modal:"Modal_Modal__1JxFW"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2RxUp"}},26:function(e,t,a){e.exports={Button:"Button_Button__1W75o"}},28:function(e,t,a){e.exports={Loader:"Loader_Loader__lZVs_"}},33:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__36dzQ",SearchForm:"Searchbar_SearchForm__1Fvvv",SearchFormButton:"Searchbar_SearchFormButton__JApG7",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__U4Rsx",SearchFormInput:"Searchbar_SearchFormInput__3c1aG","SearchForm-input":"Searchbar_SearchForm-input__1pTrg"}},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(22),c=a.n(o),s=(a(33),a(9)),i=a(5),l=a(6),u=a(8),m=a(7),h=a(11),d=a.n(h),p=a(23),g=a(24),b=a.n(g);function j(){return(j=Object(p.a)(d.a.mark((function e(t,a){var n,r,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"19787532-99c32fb0a864719ee4b9d7cb0",n="https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=").concat("19787532-99c32fb0a864719ee4b9d7cb0","&image_type=photo&orientation=horizontal&per_page=12"),e.prev=2,e.next=5,b.a.get(n);case 5:return r=e.sent,e.next=8,r.data;case 8:return o=e.sent,e.next=11,o.hits;case 11:return c=e.sent,e.abrupt("return",c);case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}var f=function(e,t){return j.apply(this,arguments)},_=a(4),y=a.n(_),x=a(0),O=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.onSubmitForm=function(t){t.preventDefault(),e.props.onSubmit(e.state.query)},e.inputChange=function(t){e.setState({query:t.target.value})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(x.jsx)("header",{className:y.a.Searchbar,children:Object(x.jsxs)("form",{onSubmit:this.onSubmitForm,className:y.a.SearchForm,children:[Object(x.jsx)("button",{type:"submit",className:y.a.SearchFormButton,children:Object(x.jsx)("span",{className:y.a.SearchFormButtonLabel,children:"Search"})}),Object(x.jsx)("input",{onChange:this.inputChange,name:"searchbar",className:y.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),S=a(12),v=a.n(S),I=function(e){var t=e.img,a=e.openModal;return Object(x.jsx)("li",{className:v.a.ImageGalleryItem,children:Object(x.jsx)("img",{onClick:function(){return a(t)},src:t.webformatURL,alt:"",className:v.a.ImageGalleryItemImage})})},M=a(25),F=a.n(M),N=function(e){var t=e.photos,a=e.openModal;return Object(x.jsx)("ul",{className:F.a.ImageGallery,children:t.map((function(e){return Object(x.jsx)(I,{openModal:a,img:e},e.id)}))})},B=a(26),L=a.n(B),G=function(e){var t=e.loadMore;return Object(x.jsx)("button",{onClick:t,className:L.a.Button,children:"Load more"})},w=a(27),q=a.n(w),k=a(28),C=a.n(k),A=(a(74),function(){return Object(x.jsx)("div",{className:C.a.Loader,children:Object(x.jsx)(q.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}),J=a(13),U=a.n(J),D=function(e){var t=e.img,a=e.closeModal;return Object(x.jsx)("div",{onClick:function(e){"DIV"===e.target.nodeName&&a()},className:U.a.Overlay,children:Object(x.jsx)("div",{className:U.a.Modal,children:Object(x.jsx)("img",{src:t.largeImageURL,alt:""})})})},R=(a(75),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],query:"",page:1,isLoading:!1,loadMoreButt:!1,openedModal:!1,modalImage:{}},e.handleSubmit=function(t){t&&e.setState({query:t,page:1,isLoading:!0})},e.openModal=function(t){e.setState({modalImage:t,openedModal:!0})},e.closeModal=function(){e.setState({modalImage:{},openedModal:!1})},e.loadMore=function(){e.setState((function(e){return{page:e.page+1,isLoading:!0}}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.query!==t.query?f(this.state.query,this.state.page).then((function(e){0!==e.length&&a.setState({images:Object(s.a)(e),isLoading:!1,loadMoreButt:12===e.length})})):this.state.page!==t.page&&f(this.state.query,this.state.page).then((function(e){0!==e.length&&(a.setState({images:[].concat(Object(s.a)(t.images),Object(s.a)(e)),isLoading:!1,loadMoreButt:12===e.length}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))}))}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"App",children:[this.state.openedModal&&Object(x.jsx)(D,{closeModal:this.closeModal,img:this.state.modalImage}),Object(x.jsx)(O,{onSubmit:this.handleSubmit}),this.state.images.length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(N,{photos:this.state.images,openModal:this.openModal}),this.state.loadMoreButt&&Object(x.jsx)(G,{loadMore:this.loadMore})]}):Object(x.jsx)("h1",{children:"Please enter a query!"}),this.state.isLoading&&Object(x.jsx)(A,{})]})}}]),a}(n.Component));c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(R,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.0bff6e33.chunk.js.map